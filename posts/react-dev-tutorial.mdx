---
title: react.dev íŠœí† ë¦¬ì–¼ ë©”ëª¨
date: 2023-09-17
description: ë¦¬ë‰´ì–¼ëœ ë¦¬ì•¡íŠ¸ ê³µì‹ë¬¸ì„œê°€ ê·¸ë ‡ê²Œ ì¢‹ë‹¤ë˜ë°
thumbnail: /images/posts/react-dev-tutorial-use-effect/intro.png
tags:
  - React
---

[React ê³µì‹ë¬¸ì„œ - í•™ìŠµí•˜ê¸°](https://ko.react.dev/learn) íŒŒíŠ¸ì˜ ë‚´ìš©ì„ ì •ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.
useEffect ê´€ë ¨ ë‚´ìš©(Effectë¡œ ë™ê¸°í™”í•˜ê¸° ~ Effectì˜ ì˜ì¡´ì„± ì œê±°í•˜ê¸°)ëŠ” ë‚´ìš©ì´ ë§ì•„ ë³„ë„ ë¬¸ì„œë¡œ ì œì‘í•˜ì˜€ìŠµë‹ˆë‹¤.

# ì‹œì‘í•˜ê¸°

## ë¹ ë¥´ê²Œ ì‹œì‘í•˜ê¸°

`&&`ë¥¼ ì¡°ê±´ë¶€ ë Œë”ë§ì— ì‚¬ìš©í•´ë„ ëœë‹¤. ë‹¤ë§Œ, ì¡°ê±´ì‹ ë¶€ë¶„ì„ í™•ì‹¤íˆ Booleanìœ¼ë¡œ ë§Œë“¤ì.

- Ref. [mdn, 'Falsy'](https://developer.mozilla.org/en-US/docs/Glossary/Falsy)
- Ref. [mdn, 'Logical AND (&&)'](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_AND#removing_nested_parentheses)

> logical AND (&&) operator **returns the value of the first falsy operand** encountered when evaluating from left to right, or the value of the last operand if they are all truthy.

`0`, `''` (ë¹ˆ ë¬¸ìì—´)ë„ Falsyì´ê¸° ë•Œë¬¸ì— `&&` ì•ì— ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ìˆìœ¼ë‚˜, íŠ¹íˆ `0`ì˜ ê²½ìš° ì‹¤ì œë¡œ `0`ì´ í™”ë©´ì— ë‚˜ì˜¤ê¸° ë•Œë¬¸ì— ë” ì£¼ì˜í•´ì•¼ í•œë‹¤.

### Tic-Tac-Toe êµ¬í˜„ ì‚¬ë¡€

```jsx
import { useState } from 'react';

function Square({ value, onSquareClick }) {
  return (
    <button className="square" onClick={onSquareClick}>
      {value}
    </button>
  );
}

function Board({ xIsNext, squares, onPlay }) {
  function handleClick(i) {
    if (calculateWinner(squares) || squares[i]) {
      return;
    }
    const nextSquares = squares.slice();
    if (xIsNext) {
      nextSquares[i] = 'X';
    } else {
      nextSquares[i] = 'O';
    }
    onPlay(nextSquares);
  }

  const winner = calculateWinner(squares);
  let status;
  if (winner) {
    status = 'Winner: ' + winner;
  } else {
    status = 'Next player: ' + (xIsNext ? 'X' : 'O');
  }

  return (
    <>
      <div className="status">{status}</div>
      <div className="board-row">
        <Square value={squares[0]} onSquareClick={() => handleClick(0)} />
        <Square value={squares[1]} onSquareClick={() => handleClick(1)} />
        <Square value={squares[2]} onSquareClick={() => handleClick(2)} />
      </div>
      <div className="board-row">
        <Square value={squares[3]} onSquareClick={() => handleClick(3)} />
        <Square value={squares[4]} onSquareClick={() => handleClick(4)} />
        <Square value={squares[5]} onSquareClick={() => handleClick(5)} />
      </div>
      <div className="board-row">
        <Square value={squares[6]} onSquareClick={() => handleClick(6)} />
        <Square value={squares[7]} onSquareClick={() => handleClick(7)} />
        <Square value={squares[8]} onSquareClick={() => handleClick(8)} />
      </div>
    </>
  );
}

export default function Game() {
  const [history, setHistory] = useState([Array(9).fill(null)]);
  const [currentMove, setCurrentMove] = useState(0);
  const xIsNext = currentMove % 2 === 0;
  const currentSquares = history[currentMove];

  function handlePlay(nextSquares) {
    const nextHistory = [...history.slice(0, currentMove + 1), nextSquares];
    setHistory(nextHistory);
    setCurrentMove(nextHistory.length - 1);
  }

  function jumpTo(nextMove) {
    setCurrentMove(nextMove);
  }

  const moves = history.map((squares, move) => {
    let description;
    if (move > 0) {
      description = 'Go to move #' + move;
    } else {
      description = 'Go to game start';
    }
    return (
      <li key={move}>
        <button onClick={() => jumpTo(move)}>{description}</button>
      </li>
    );
  });

  return (
    <div className="game">
      <div className="game-board">
        <Board xIsNext={xIsNext} squares={currentSquares} onPlay={handlePlay} />
      </div>
      <div className="game-info">
        <ol>{moves}</ol>
      </div>
    </div>
  );
}

function calculateWinner(squares) {
  const lines = [
    [0, 1, 2],
    [3, 4, 5],
    [6, 7, 8],
    [0, 3, 6],
    [1, 4, 7],
    [2, 5, 8],
    [0, 4, 8],
    [2, 4, 6],
  ];
  for (let i = 0; i < lines.length; i++) {
    const [a, b, c] = lines[i];
    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {
      return squares[a];
    }
  }
  return null;
}
```

- `export default function`ì„ ì‚¬ìš©í•œë‹¤.
- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë„¤ì´ë°ì€ propsì˜ ê²½ìš° `on~`, í•¨ìˆ˜ì˜ ê²½ìš° `handle~`ë¡œ í•œë‹¤.
- **í•¨ìˆ˜ë¥¼ ë˜ë„ë¡ ì»´í¬ë„ŒíŠ¸ ë°”ê¹¥ìœ¼ë¡œ ë¹¼ë¼. ì»´í¬ë„ŒíŠ¸ì˜ ì¤„ ìˆ˜ë¥¼ ì¤„ì—¬ë¼.** `squares`ë¥¼ êµ³ì´ ì¸ìë¡œ ì „ë‹¬í•´ê°€ë©´ì„œ `calculateWinner` í•¨ìˆ˜ë¥¼ ì»´í¬ë„ŒíŠ¸ ë°”ê¹¥ìœ¼ë¡œ ëº€ ì§€ì ì— ì§‘ì¤‘.
- **ì»´í¬ë„ŒíŠ¸ë¼ê³  ìƒê°í•˜ì§€ ë§ê³ , ê·¸ëƒ¥ í•¨ìˆ˜ë¥¼ ë§Œë“ ë‹¤ê³  ìƒê°í•´ë¼.**
  - ë¶ˆí•„ìš”í•œ useState ê¸ˆì§€ : íŒŒìƒ ìƒíƒœë¥¼ êµ³ì´ stateë¡œ ë§Œë“¤ì§€ ë§ˆë¼. ex. `xIsNext`, `currentSquares`
  - ë¶ˆí•„ìš”í•œ useEffect ê¸ˆì§€ : side effectê°€ ì•„ë‹Œ ê±¸ êµ³ì´ effectë¡œ ë§Œë“¤ì§€ ë§ˆë¼. ex. `let status`
- map ë‚´ë¶€ì—ì„œ í•˜ëŠ” ì¼ì´ ë§ì•„ ì˜¤íˆë ¤ return ë¬¸ ë‚´ì—ì„œ ì“°ëŠ” ê²ƒì´ ê°€ë…ì„±ì— ì¢‹ì§€ ì•Šë‹¤ê³  íŒë‹¨ëœë‹¤ë©´, `moves`ì²˜ëŸ¼ ë³„ë„ ë³€ìˆ˜ë¡œ ì œì‘í•˜ì—¬ ë¼ì›Œë„£ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•´ë„ ê´œì°®ë‹¤.

React ê³µì‹ë¬¸ì„œì—ì„œëŠ” `export default function`ì„ ì»¨ë²¤ì…˜ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë“¯í•˜ì§€ë§Œ, ê°œì¸ì ìœ¼ë¡œëŠ” í™”ì‚´í‘œ í•¨ìˆ˜ + named export ë¥¼ ì„ í˜¸í•œë‹¤.
ì´ìœ ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ë” ê°€ë²¼ìš´ í™”ì‚´í‘œ í•¨ìˆ˜ê°€ ì˜ë„ ì „ë‹¬ì— ë” ëª…í™•í•˜ë©°, named exportë¥¼ í•´ì•¼ ì»´í¬ë„ŒíŠ¸ëª…ì„ ë°”ê¾¸ê¸°ê°€ ìˆ˜ì›”í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

## ì„¤ì¹˜

### React í”„ë ˆì„ì›Œí¬ì™€ ì œì‘ íŒ€

- Next.js - Vercel [Link](https://nextjs.org)
- Remix - Shopify [Link](https://remix.run)
- Gatsby - Netlify [Link](https://www.gatsbyjs.com)
- Expo - Expo [Link](https://expo.dev)

### TypeScript useReducer ì‚¬ìš© ì‚¬ë¡€

```jsx
import { useReducer } from 'react';

interface State {
  count: number;
}

type CounterAction =
  | { type: 'reset' }
  | { type: 'setCount', value: State['count'] };

const initialState: State = { count: 0 };

function stateReducer(state: State, action: CounterAction): State {
  switch (action.type) {
    case 'reset':
      return initialState;
    case 'setCount':
      return { ...state, count: action.value };
    default:
      throw new Error('Unknown action');
  }
}

export default function App() {
  const [state, dispatch] = useReducer(stateReducer, initialState);

  const addFive = () => dispatch({ type: 'setCount', value: state.count + 5 });
  const reset = () => dispatch({ type: 'reset' });

  return (
    <div>
      <h1>Welcome to my counter</h1>

      <p>Count: {state.count}</p>
      <button onClick={addFive}>Add 5</button>
      <button onClick={reset}>Reset</button>
    </div>
  );
}
```

- switchë¬¸ì—ì„œ ì˜ˆê²¬ë˜ì§€ ì•Šì€ `default`ë¥¼ `return initialState`ì™€ ê°™ì´ ì–¼ë²„ë¬´ë¦¬ì§€ ì•Šê³ , ì œëŒ€ë¡œ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.
- `useReducer`ë¥¼ ì• ìš©í•´ë¼.

### TypeScript useContext ì‚¬ìš© ì‚¬ë¡€

```tsx
import { createContext, useContext, useState, useMemo } from 'react';

// This is a simpler example, but you can imagine a more complex object here
type ComplexObject = {
  kind: string;
};

// The context is created with `| null` in the type, to accurately reflect the default value.
const Context = createContext<ComplexObject | null>(null);

// The `| null` will be removed via the check in the hook.
const useGetComplexObject = () => {
  const object = useContext(Context);
  if (!object) {
    throw new Error('useGetComplexObject must be used within a Provider');
  }
  return object;
};

export default function MyApp() {
  const object = useMemo(() => ({ kind: 'complex' }), []);

  return (
    <Context.Provider value={object}>
      <MyComponent />
    </Context.Provider>
  );
}

function MyComponent() {
  const object = useGetComplexObject();

  return (
    <div>
      <p>Current object: {object.kind}</p>
    </div>
  );
}
```

- Context íƒ€ì… `nullable`í•˜ê²Œ ì•ˆ ë§Œë“¤ê² ë‹¤ê³  ì–µì§€ initial value ë„£ì§€ ë§ì.
  - ex. `{ id: 1, name: '', age: 0 }`
  - ëŒ€ì‹  wrapperë¥¼ ì‚¬ìš©í•´ íƒ€ì…ì„ ì¢í˜€ì£¼ì.
- objectê°€ ì—†ì„ ë•Œ ì–¼ë²„ë¬´ë¦¬ì§€ ì•Šê³ , ì •í™•íˆ _useGetComplexObject must be used within a Provider_ ë¼ê³  ì—ëŸ¬ë¥¼ ì„¤ëª…í•œ ë’¤ throw í•œë‹¤.
- object ë§Œë“œëŠ” ì—°ì‚°ì´ ë¹„ì‹¸ë‹¤ë©´, ì´ˆê¸°í™”í•  ë•Œë„ `useMemo`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### TypeScript useMemo, useCallback ì‚¬ìš© ì‚¬ë¡€

```tsx
// The type of visibleTodos is inferred from the return value of filterTodos
const visibleTodos = useMemo(() => filterTodos(todos, tab), [todos, tab]);

const handleChange = useCallback<React.ChangeEventHandler<HTMLInputElement>>(
  (e) => {
    setValue(e.currentTarget.value);
  },
  [setValue],
);
```

- ê²°ê³¼ê°’ì´ ë³€ìˆ˜ë©´ useMemo, í•¨ìˆ˜ë©´ useCallbackì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê´€ë¡€ë‹¤.
- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ì— useCallbackì„ ì“°ëŠ” ê²ƒì´ íŠ¹ì§•ì ì´ë‹¤. (`*EventHandler` íƒ€ì…ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë˜ì–´ì„œ ë” ê°€ë…ì„±ì´ ì¢‹ì•„ì§€ëŠ” ê²ƒ ê°™ê¸°ë„..?)

# React í•™ìŠµ

## UI í‘œí˜„í•˜ê¸°

![import ìº¡ì²˜](/images/posts/react-dev-tutorial/import-capture.png)

`./Gallery.tsx` ì²˜ëŸ¼ í™•ì¥ìë¥¼ ë°í˜€ importí•˜ëŠ” ê²Œ ì •ì„ì´ë‹¤.

### ì¡°ê±´ì— ë”°ë¥¸ ë³€ìˆ˜ ë¶„ê¸° ë¦¬íŒ©í† ë§ ì‚¬ë¡€

Question.

```jsx
function Drink({ name }) {
  return (
    <section>
      <h1>{name}</h1>
      <dl>
        <dt>Part of plant</dt>
        <dd>{name === 'tea' ? 'leaf' : 'bean'}</dd>
        <dt>Caffeine content</dt>
        <dd>{name === 'tea' ? '15â€“70 mg/cup' : '80â€“185 mg/cup'}</dd>
        <dt>Age</dt>
        <dd>{name === 'tea' ? '4,000+ years' : '1,000+ years'}</dd>
      </dl>
    </section>
  );
}
```

Answer #1.

```jsx
function Drink({ name }) {
  let part, caffeine, age;
  if (name === 'tea') {
    part = 'leaf';
    caffeine = '15â€“70 mg/cup';
    age = '4,000+ years';
  } else if (name === 'coffee') {
    part = 'bean';
    caffeine = '80â€“185 mg/cup';
    age = '1,000+ years';
  }
  return (
    <section>
      <h1>{name}</h1>
      <dl>
        <dt>Part of plant</dt>
        <dd>{part}</dd>
        <dt>Caffeine content</dt>
        <dd>{caffeine}</dd>
        <dt>Age</dt>
        <dd>{age}</dd>
      </dl>
    </section>
  );
}
```

Answer #2. Custom hook pattern

```jsx
function Drink({ name }) {
  const { part, caffeine, age } = useDrinkInfo(name);
  return (
    <section>
      <h1>{name}</h1>
      <dl>
        <dt>Part of plant</dt>
        <dd>{part}</dd>
        <dt>Caffeine content</dt>
        <dd>{caffeine}</dd>
        <dt>Age</dt>
        <dd>{age}</dd>
      </dl>
    </section>
  );
}

function useDrinkInfo(name) {
  switch (name) {
    case 'tea':
      return {
        part: 'leaf',
				caffeine: '15-70mg/cup',
				age: '4,000+ years';
			};
		case 'coffee':
      return {
        part: 'bean',
				caffeine: '80-185mg/cup',
				age: '1,000+ years';
			};
    default:
			throw new Error('Wrong drink name');
  }
};
```

Answer #3. ê³µì‹ë¬¸ì„œì— ë‚˜ì˜¨ ë¦¬íŒ©í† ë§

```jsx
const drinks = {
  tea: {
    part: 'leaf',
    caffeine: '15â€“70 mg/cup',
    age: '4,000+ years',
  },
  coffee: {
    part: 'bean',
    caffeine: '80â€“185 mg/cup',
    age: '1,000+ years',
  },
};

function Drink({ name }) {
  const info = drinks[name];
  return (
    <section>
      <h1>{name}</h1>
      <dl>
        <dt>Part of plant</dt>
        <dd>{info.part}</dd>
        <dt>Caffeine content</dt>
        <dd>{info.caffeine}</dd>
        <dt>Age</dt>
        <dd>{info.age}</dd>
      </dl>
    </section>
  );
}
```

ì‚¬ì‹¤ ë¡œì§ ì—†ì´ ë‹¨ìˆœ ì •ë³´ ë§¤ì¹˜ë¼ custom hook íŒ¨í„´ì„ ì“°ëŠ” ê²ƒì€ ì¢€ ê³¼í•˜ê³ , ì´ ë°©ì‹ì´ ë” ì¢‹ì€ ë“¯í•˜ë‹¤. ğŸ‘

## ìƒí˜¸ì‘ìš©ì„± ë”í•˜ê¸°

### ë¦¬ì•¡íŠ¸ ë Œë”ë§ ê³¼ì •

1. ë Œë”ë§ íŠ¸ë¦¬ê±°
   - ì»´í¬ë„ŒíŠ¸ì˜ ì´ˆê¸° ë Œë”ë§ì¸ ê²½ìš°
   - ì»´í¬ë„ŒíŠ¸ì˜ stateê°€ ì—…ë°ì´íŠ¸ëœ ê²½ìš°
2. ë Œë”ë§
   - ì´ˆê¸° ë Œë”ë§ì˜ ê²½ìš°, ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸ í˜¸ì¶œ
   - ì´í›„ ë Œë”ë§ì˜ ê²½ìš°, ë Œë”ë§ì„ íŠ¸ë¦¬ê±°í•œ ì»´í¬ë„ŒíŠ¸ í˜¸ì¶œ
   - **ì¬ê·€ì  ë‹¨ê³„ : ì»´í¬ë„ŒíŠ¸ê°€ ìì‹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜í™˜í•˜ë©´ ê·¸ ì»´í¬ë„ŒíŠ¸ë„ ë‹¤ì‹œ ë Œë”ë§í•¨.**
3. DOMì— ë³€ê²½ì‚¬í•­ ì»¤ë°‹ : Rendererê°€ ì»´í¬ë„ŒíŠ¸ ì •ë³´ë¥¼ DOMì— ì‚½ì… (ì—¬ê¸°ë¶€í„°ëŠ” ë Œë”ë§ ì•„ë‹˜)
   - ë Œë”ë§ ê°„ì— ì°¨ì´ê°€ ìˆëŠ” ê²½ìš°ì—ë§Œ DOM ë…¸ë“œë¥¼ ë³€ê²½í•œë‹¤. ì—¬ê¸°ì„œ ì°¨ì´ëŠ” JSX ë§ˆí¬ì—…ì˜ ì°¨ì´ê°€ ì•„ë‹ˆë¼ **UI íŠ¸ë¦¬ì—ì„œì˜ ìœ„ì¹˜ ì°¨ì´**ë¥¼ ë§í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, if ë¬¸ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ê°€ ë¶„ê¸°ë˜ì—ˆë”ë¼ë„ ìœ„ì¹˜ê°€ ê°™ë‹¤ë©´ ìƒˆë¡œ ë Œë”ë§í•˜ì§€ ì•ŠëŠ”ë‹¤.
4. ë¸Œë¼ìš°ì € í˜ì¸íŒ… : ë¸Œë¼ìš°ì €ê°€ DOMì„ í˜ì¸íŒ…

### ê°™ì€ ìë¦¬ì˜ ê°™ì€ ì»´í¬ë„ŒíŠ¸ëŠ” stateë¥¼ ë³´ì¡´í•©ë‹ˆë‹¤

```jsx
export default function App() {
  const [isFancy, setIsFancy] = useState(false);
  if (isFancy) {
    return (
      <div>
        <Counter isFancy={true} />
        <label>
          <input
            type="checkbox"
            checked={isFancy}
            onChange={(e) => {
              setIsFancy(e.target.checked);
            }}
          />
          Use fancy styling
        </label>
      </div>
    );
  }
  return (
    <div>
      <Counter isFancy={false} />
      <label>
        <input
          type="checkbox"
          checked={isFancy}
          onChange={(e) => {
            setIsFancy(e.target.checked);
          }}
        />
        Use fancy styling
      </label>
    </div>
  );
}

function Counter({ isFancy }) {
  const [score, setScore] = useState(0);
  const [hover, setHover] = useState(false);

  let className = 'counter';
  if (hover) {
    className += ' hover';
  }
  if (isFancy) {
    className += ' fancy';
  }

  return (
    <div
      className={className}
      onPointerEnter={() => setHover(true)}
      onPointerLeave={() => setHover(false)}
    >
      <h1>{score}</h1>
      <button onClick={() => setScore(score + 1)}>Add one</button>
    </div>
  );
}
```

ì²´í¬ ë°•ìŠ¤ë¥¼ ì„ íƒí•  ë•Œ stateê°€ ì´ˆê¸°í™”ë  ê±°ë¼ê³  ìƒê°í–ˆì„ ìˆ˜ë„ ìˆì§€ë§Œ ê·¸ë ‡ì§€ ì•Šë‹¤. **ë‘ `<Counter />` íƒœê·¸ê°€ ê°™ì€ ìœ„ì¹˜ì— ë Œë”ë§ë˜ê¸°** ë•Œë¬¸ì´ë‹¤. ReactëŠ” í•¨ìˆ˜ ì•ˆ ì–´ë””ì— ì¡°ê±´ë¬¸ì´ ìˆëŠ”ì§€ ëª¨ë¥¸ë‹¤. ReactëŠ” ë‹¹ì‹ ì´ ë°˜í™˜í•˜ëŠ” íŠ¸ë¦¬ë§Œ ë³¸ë‹¤. ë‘ ìƒí™©ì—ì„œ `App` ì»´í¬ë„ŒíŠ¸ëŠ” `<Counter />`ë¥¼ ì²« ë²ˆì§¸ ìì‹ìœ¼ë¡œ ê°€ì§„ `<div>`ë¥¼ ë°˜í™˜í•œë‹¤. ì´ê²ƒì´ Reactê°€ ë‘ `<Counter />`ë¥¼ _ê°™ì€_ ê²ƒìœ¼ë¡œ ë³´ëŠ” ì´ìœ ë‹¤.

í•˜ì§€ë§Œ `<div>`ë¥¼ `<section>`ìœ¼ë¡œ ë°”ê¾¸ëŠ” ë“± íŠ¸ë¦¬ë¥¼ ë°”ê¿”ë²„ë¦¬ë©´ ì²´í¬ ë°•ìŠ¤ë¥¼ ì„ íƒí•  ë•Œ stateê°€ ì´ˆê¸°í™”ëœë‹¤.

ê²°ê³¼ë¥¼ ì§ì ‘ ì²´í—˜í•´ë³´ì„¸ìš”!

[Stateë¥¼ ë³´ì¡´í•˜ê³  ì´ˆê¸°í™”í•˜ê¸° â€“ React](https://ko.react.dev/learn/preserving-and-resetting-state#same-component-at-the-same-position-preserves-state)

### Immer

use-immer ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ë©´ `...` ì „ê°œë¥¼ ìƒëµí•  ìˆ˜ ìˆë‹¤.

```tsx
export default function Form() {
  const [person, setPerson] = useState({
    name: 'Niki de Saint Phalle',
    artwork: {
      title: 'Blue Nana',
      city: 'Hamburg',
      image: 'https://i.imgur.com/Sd1AgUOm.jpg',
    }
  });

	function handleTitleChange(e) {
    setPerson({
      ...person,
      artwork: {
        ...person.artwork,
        title: e.target.value
      }
    });
  }
  ...
```

```tsx
import { useImmer } from 'use-immer';

export default function Form() {
  const [person, updatePerson] = useImmer({
    name: 'Niki de Saint Phalle',
    artwork: {
      title: 'Blue Nana',
      city: 'Hamburg',
      image: 'https://i.imgur.com/Sd1AgUOm.jpg',
    }
  });

	function handleTitleChange(e) {
    updatePerson(draft => {
      draft.artwork.title = e.target.value;
    });
  }
  ...
```

ë‹¤ì¤‘ ì „ê°œê¹Œì§€ ì»¤ë²„í•´ì£¼ë‹¤ë‹ˆâ€¦ ì—„ì²­ë‚˜ë‹¤.

ImmerëŠ” [Proxy](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy) ê°ì²´ íƒ€ì…ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆë‹¤ê³  í•œë‹¤. ê´€ì‹¬ ìˆìœ¼ë©´ ì°¾ì•„ë³´ë„ë¡ í•˜ì.

![JavaScriptì˜ ìˆœìˆ˜í•œ ì—°ì‚°](/images/posts/react-dev-tutorial/pure-functions.png)

ê·¸ëŸ¬ë‚˜, `[...]`ì€ ì–•ì€ ë³µì‚¬ì´ê¸° ë•Œë¬¸ì— **ë°°ì—´ì„ ë³µì‚¬í•˜ë”ë¼ë„ ë°°ì—´ _ë‚´ë¶€_ ì— ê¸°ì¡´ í•­ëª©ì„ ì§ì ‘ ë³€ê²½í•´ì„œëŠ” ì•ˆë©ë‹ˆë‹¤**.

```jsx
let nextId = 3;
const initialList = [
  { id: 0, title: 'Big Bellies', seen: false },
  { id: 1, title: 'Lunar Landscape', seen: false },
  { id: 2, title: 'Terracotta Army', seen: true },
];

export default function BucketList() {
  const [myList, setMyList] = useState(initialList);
  const [yourList, setYourList] = useState(initialList);

  function handleToggleMyList(artworkId, nextSeen) {
    const myNextList = [...myList];
    const artwork = myNextList.find((a) => a.id === artworkId);
    artwork.seen = nextSeen;
    setMyList(myNextList);
  }

  function handleToggleYourList(artworkId, nextSeen) {
    const yourNextList = [...yourList];
    const artwork = yourNextList.find((a) => a.id === artworkId);
    artwork.seen = nextSeen;
    setYourList(yourNextList);
  }

  return (
    <>
      <h1>Art Bucket List</h1>
      <h2>My list of art to see:</h2>
      <ItemList artworks={myList} onToggle={handleToggleMyList} />
      <h2>Your list of art to see:</h2>
      <ItemList artworks={yourList} onToggle={handleToggleYourList} />
    </>
  );
}
```

êµ‰ì¥íˆ ê¹”ë”í•œ ì½”ë“œì§€ë§Œ, ê°™ì€ initialStateì—ì„œ ì™”ê¸° ë•Œë¬¸ì— spread copyë¥¼ í•˜ë”ë¼ë„ ë¦¬ìŠ¤íŠ¸ ë‚´ë¶€ ê°ì²´ëŠ” ë³µì‚¬ë˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ myListì˜ ì²´í¬ë°•ìŠ¤ë¥¼ í´ë¦­í–ˆì„ ë•Œ yourListì˜ ê°’ì´ ë™ì‹œì— ë°”ë€ŒëŠ” ë²„ê·¸ê°€ ë°œìƒí•œë‹¤.

```jsx
function handleToggleMyList(artworkId, nextSeen) {
  setMyList(
    myList.map((artwork) => {
      if (artwork.id === artworkId) {
        return { ...artwork, seen: nextSeen };
      } else {
        return artwork;
      }
    }),
  );
}
```

ë”°ë¼ì„œ ì´ëŸ° ë°©ì‹ìœ¼ë¡œ deep copyë¥¼ í•´ì£¼ì–´ì•¼ í•œë‹¤.

```jsx
function handleToggleMyList(artworkId, nextSeen) {
  updateMyTodos((draft) => {
    const artwork = draft.find((a) => a.id === artworkId);
    artwork.seen = nextSeen;
  });
}
```

Immerë¥¼ ì“°ë©´ ê·¸ëƒ¥ `artwork.seen = nextSeen` ì˜ ë¬¸ë²•ìœ¼ë¡œë„ ë™ì¼ ë™ì‘ì„ í•  ìˆ˜ ìˆì–´ ê°€ë…ì„±ì— ì¢‹ë‹¤.

## State ê´€ë¦¬í•˜ê¸° [ì¤‘ê¸‰]

### State ì˜ ì§œëŠ” ë²•

1. Group related state. (ex. `x, y` â†’ `position`)
2. Avoid contradictions in state. (ex. `isSending, isSent` â†’ `status (typing, sending, sent)`)
3. Avoid redundant state. íŒŒìƒ ìƒíƒœ ì œê±°
4. Avoid duplication in state. (ex. `items, selectedItem` â†’ `items, selectedId`)
5. Avoid deeply nested state.

### keyë¥¼ ì´ìš©í•´ stateë¥¼ ì´ˆê¸°í™”í•˜ê¸°

**keyëŠ” ë°°ì—´ì„ ìœ„í•œ ê²ƒë§Œì€ ì•„ë‹™ë‹ˆë‹¤!**

ê¸°ë³¸ì ìœ¼ë¡œ ReactëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬ë³„í•˜ê¸° ìœ„í•´ ë¶€ëª¨ ì•ˆì—ì„œì˜ ìˆœì„œ(â€œì²« ë²ˆì§¸ ì¹´ìš´í„°â€, â€œë‘ ë²ˆì§¸ ì¹´ìš´í„°â€)ë¥¼ ì´ìš©í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ keyë¥¼ ì´ìš©í•˜ë©´ Reactì—ê²Œ ë‹¨ì§€ _ì²« ë²ˆì§¸_ ì¹´ìš´í„°ë‚˜ _ë‘ ë²ˆì§¸_ ì¹´ìš´í„°ê°€ ì•„ë‹ˆë¼ íŠ¹ì •í•œ ì¹´ìš´í„°ë¼ê³  ë§í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`key`ë¥¼ ëª…ì‹œí•˜ë©´ ReactëŠ” ë¶€ëª¨ ë‚´ì—ì„œì˜ ìˆœì„œ ëŒ€ì‹ ì— `key` ìì²´ë¥¼ ìœ„ì¹˜ì˜ ì¼ë¶€ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ê²ƒì´ ì»´í¬ë„ŒíŠ¸ë¥¼ JSXì—ì„œ ê°™ì€ ìë¦¬ì— ë Œë”ë§í•˜ì§€ë§Œ React ê´€ì ì—ì„œëŠ” ë‹¤ë¥¸ ì¹´ìš´í„°ì¸ ì´ìœ ì…ë‹ˆë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ê·¸ë“¤ì€ ì ˆëŒ€ stateë¥¼ ê³µìœ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

```jsx
export default function Scoreboard() {
  const [isPlayerA, setIsPlayerA] = useState(true);
  return (
    <div>
      {isPlayerA ? (
        <Counter key="Taylor" person="Taylor" />
      ) : (
        <Counter key="Sarah" person="Sarah" />
      )}
      <button
        onClick={() => {
          setIsPlayerA(!isPlayerA);
        }}
      >
        Next player!
      </button>
    </div>
  );
}
```

[Stateë¥¼ ë³´ì¡´í•˜ê³  ì´ˆê¸°í™”í•˜ê¸° â€“ React](https://ko.react.dev/learn/preserving-and-resetting-state#challenges)

ğŸ’¡ ì±Œë¦°ì§€ê°€ ê½¤ ì¢‹ìœ¼ë‹ˆ í•œë²ˆ í’€ì–´ë³´ì„¸ìš”!

- Form ì´ˆê¸°í™”
- ì´ë¯¸ì§€ ë¡œë”©ë˜ê¸° ì „ì— ì¼ë‹¨ ì˜ˆì „ ì´ë¯¸ì§€ ë„ê¸°
- `key={index}`ë¡œ í•œ ë’¤ ë°°ì—´ì„ ë’¤ì§‘ì–´ë„ indexëŠ” ê·¸ëŒ€ë¡œë¼, ìƒíƒœê°€ ë°ì´í„°ë¥¼ ë”°ë¼ ê°€ì§€ ì•ŠëŠ” ë²„ê·¸

### useReducer ë„ì…í•˜ëŠ” ë°©ë²•

1. setterë¥¼ ì‚¬ìš©í•˜ëŠ” ì§€ì ì„ ëª¨ë‘ ëª¨ì•„ë³¸ë‹¤.
2. ë³€ê²½í•˜ëŠ” ë°©ì‹ì´ ê°™ì€ ê²ƒë¼ë¦¬ ëª¨ì•„ reducer actionìœ¼ë¡œ ë¶„ë¦¬í•œë‹¤.

ìœ ì˜í•  ì 

- ReducerëŠ” ë°˜ë“œì‹œ ìˆœìˆ˜í•´ì•¼ í•œë‹¤. ìš”ì²­ì„ ë³´ë‚´ê±°ë‚˜ timeoutì„ ìŠ¤ì¼€ì¥´ë§í•˜ëŠ” ë“± ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ ìˆì–´ì„œëŠ” ì•ˆ ëœë‹¤.
- actionì€ ë³€ê²½ ê¸°ì¤€ì´ ì•„ë‹ˆë¼ ì‚¬ìš©ì ìƒí˜¸ì‘ìš© ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í•´ì•¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, reducerê°€ ê´€ë¦¬í•˜ëŠ” 5ê°œì˜ í•„ë“œê°€ ìˆëŠ” ì–‘ì‹ì—ì„œ â€˜ì¬ì„¤ì •â€™ì„ ëˆ„ë¥¸ ê²½ìš°, 5ê°œì˜ ê°œë³„ `set_field` actionë³´ë‹¤ëŠ” í•˜ë‚˜ì˜ `reset_form` actionì„ ì „ì†¡í•˜ëŠ” ê²ƒì´ ë” í•©ë¦¬ì ì´ë‹¤.

### Reducer ì‘ì„± ì‚¬ë¡€

```tsx
function tasksReducer(tasks, action) {
  switch (action.type) {
    case 'added': {
      return [
        ...tasks,
        {
          id: action.id,
          text: action.text,
          done: false,
        },
      ];
    }
    case 'changed': {
      return tasks.map((t) => {
        if (t.id === action.task.id) {
          return action.task;
        } else {
          return t;
        }
      });
    }
    case 'deleted': {
      return tasks.filter((t) => t.id !== action.id);
    }
    default: {
      throw Error('Unknown action: ' + action.type);
    }
  }
}
```

- `action.type`ì˜ ë„¤ì´ë° ì»¨ë²¤ì…˜ì€ `added`, `added_task` ì²˜ëŸ¼ ê³¼ê±°í˜• ë™ì‚¬ë‹¤.
- if â€¦ else ë¬¸ ëŒ€ì‹  switch ë¬¸ì„ ì‚¬ìš©í•˜ê³ , defaultì— throw Errorë¥¼ í•œë‹¤.
- case ë³„ë¡œ ì§€ì—­ ë³€ìˆ˜ë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•˜ì—¬ `{ }`ìœ¼ë¡œ ê°ì‹¼ë‹¤.
- caseëŠ” ëŒ€ë¶€ë¶„ì˜ ê²½ìš° returnìœ¼ë¡œ ëë‚˜ì•¼ í•œë‹¤.

```jsx
function tasksReducer(draft, action) {
  switch (action.type) {
    case 'added': {
      draft.push({
        id: action.id,
        text: action.text,
        done: false
      });
      break;
    }
    case 'changed': {
      const index = draft.findIndex(t =>
        t.id === action.task.id
      );
      draft[index] = action.task;
      break;
    }
    case 'deleted': {
      return draft.filter(t => t.id !== action.id);
    }
    default: {
      throw Error('Unknown action: ' + action.type);
    }
  }
}

export default function TaskApp() {
  const [tasks, dispatch] = useImmerReducer(
    tasksReducer,
    initialTasks
  );
  ...
```

`useImmerReducer`ë¥¼ ì‚¬ìš©í•˜ë©´ reducerì—ì„œë„ Immerë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

- ê°ì²´ ë³µì‚¬ ì•ˆ í•˜ê³  `.push`ë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì†Œ ì¶”ê°€
- ê°ì²´ ë³µì‚¬ ì•ˆ í•˜ê³  `draft[index] =`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°’ ë³€ê²½

### useReducer + useContext ì‚¬ìš© ì‚¬ë¡€

```tsx
// App.js
import AddTask from './AddTask.js';
import TaskList from './TaskList.js';
import { TasksProvider } from './TasksContext.js';

export default function TaskApp() {
  return (
    <TasksProvider>
      <h1>Day off in Kyoto</h1>
      <AddTask />
      <TaskList />
    </TasksProvider>
  );
}

// AddTask.js
import { useState, useContext } from 'react';
import { TasksDispatchContext } from './TasksContext.js';

export default function AddTask({ onAddTask }) {
  const [text, setText] = useState('');
  const dispatch = useContext(TasksDispatchContext);
  return (
    <>
      <input
        placeholder="Add task"
        value={text}
        onChange={(e) => setText(e.target.value)}
      />
      <button
        onClick={() => {
          setText('');
          dispatch({
            type: 'added',
            id: nextId++,
            text: text,
          });
        }}
      >
        Add
      </button>
    </>
  );
}

let nextId = 3;

// TaskList.js
import { useState, useContext } from 'react';
import { TasksContext, TasksDispatchContext } from './TasksContext.js';

export default function TaskList() {
  const tasks = useContext(TasksContext);
  return (
    <ul>
      {tasks.map((task) => (
        <li key={task.id}>
          <Task task={task} />
        </li>
      ))}
    </ul>
  );
}

function Task({ task }) {
  const [isEditing, setIsEditing] = useState(false);
  const dispatch = useContext(TasksDispatchContext);
  let taskContent;
  if (isEditing) {
    taskContent = (
      <>
        <input
          value={task.text}
          onChange={(e) => {
            dispatch({
              type: 'changed',
              task: {
                ...task,
                text: e.target.value,
              },
            });
          }}
        />
        <button onClick={() => setIsEditing(false)}>Save</button>
      </>
    );
  } else {
    taskContent = (
      <>
        {task.text}
        <button onClick={() => setIsEditing(true)}>Edit</button>
      </>
    );
  }
  return (
    <label>
      <input
        type="checkbox"
        checked={task.done}
        onChange={(e) => {
          dispatch({
            type: 'changed',
            task: {
              ...task,
              done: e.target.checked,
            },
          });
        }}
      />
      {taskContent}
      <button
        onClick={() => {
          dispatch({
            type: 'deleted',
            id: task.id,
          });
        }}
      >
        Delete
      </button>
    </label>
  );
}

// TasksContext.js
import { createContext, useContext, useReducer } from 'react';

const TasksContext = createContext(null);

const TasksDispatchContext = createContext(null);

export function TasksProvider({ children }) {
  const [tasks, dispatch] = useReducer(tasksReducer, initialTasks);

  return (
    <TasksContext.Provider value={tasks}>
      <TasksDispatchContext.Provider value={dispatch}>
        {children}
      </TasksDispatchContext.Provider>
    </TasksContext.Provider>
  );
}

export function useTasks() {
  return useContext(TasksContext);
}

export function useTasksDispatch() {
  return useContext(TasksDispatchContext);
}

function tasksReducer(tasks, action) {
  switch (action.type) {
    case 'added': {
      return [
        ...tasks,
        {
          id: action.id,
          text: action.text,
          done: false,
        },
      ];
    }
    case 'changed': {
      return tasks.map((t) => {
        if (t.id === action.task.id) {
          return action.task;
        } else {
          return t;
        }
      });
    }
    case 'deleted': {
      return tasks.filter((t) => t.id !== action.id);
    }
    default: {
      throw Error('Unknown action: ' + action.type);
    }
  }
}

const initialTasks = [
  { id: 0, text: 'Philosopherâ€™s Path', done: true },
  { id: 1, text: 'Visit the temple', done: false },
  { id: 2, text: 'Drink matcha', done: false },
];
```

Ref. [Reducerì™€ Contextë¡œ ì•± í™•ì¥í•˜ê¸° - React](https://ko.react.dev/learn/scaling-up-with-reducer-and-context)

## íƒˆì¶œêµ¬ (Escape Hatches) [ê³ ê¸‰]

refëŠ” Reactê°€ ì¶”ì í•˜ì§€ ì•ŠëŠ” ì»´í¬ë„ŒíŠ¸ì˜ íƒˆì¶œêµ¬ì™€ ê°™ë‹¤.

refê°€ ë³€ê²½ë˜ì–´ë„ ë Œë”ë§ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤.

### useRefë¥¼ ì‚¬ìš©í•  ì‹œê¸°

ì¼ë°˜ì ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ì˜ í˜•íƒœì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ” Web APIë¥¼ ì‚¬ìš©í•  ë•Œ refë¥¼ ì‚¬ìš©í•œë‹¤.

- timeout id ì €ì¥
- DOM ì—˜ë¦¬ë¨¼íŠ¸ ì €ì¥
- JSXë¥¼ ê³„ì‚°í•˜ëŠ” ë° í•„ìš”í•˜ì§€ ì•Šì€ ë‹¤ë¥¸ ê°ì²´ ì €ì¥

ex. ìŠ¤í†±ì›Œì¹˜

```jsx
import { useState, useRef } from 'react';

export default function Stopwatch() {
  const [startTime, setStartTime] = useState(null);
  const [now, setNow] = useState(null);
  const intervalRef = useRef(null);

  function handleStart() {
    setStartTime(Date.now());
    setNow(Date.now());

    clearInterval(intervalRef.current);
    intervalRef.current = setInterval(() => {
      setNow(Date.now());
    }, 10);
  }

  function handleStop() {
    clearInterval(intervalRef.current);
  }

  let secondsPassed = 0;
  if (startTime != null && now != null) {
    secondsPassed = (now - startTime) / 1000;
  }

  return (
    <>
      <h1>Time passed: {secondsPassed.toFixed(3)}</h1>
      <button onClick={handleStart}>Start</button>
      <button onClick={handleStop}>Stop</button>
    </>
  );
}
```

### ref ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬í•˜ê¸°

ë¦¬ìŠ¤íŠ¸ì˜ ê¸¸ì´ê°€ ê°€ë³€ì ì¸ ìƒí™©ì—ì„œëŠ” refë¥¼ ë Œë”ë§ ì‹œì ì— ë¯¸ë¦¬ ì¤„ ìˆ˜ ì—†ë‹¤. ì´ëŸ´ ë•ŒëŠ” ref ì½œë°±ì„ ì´ìš©í•˜ì.

```jsx
import { useRef } from 'react';

export default function CatFriends() {
  const itemsRef = useRef(null);

  function scrollToId(itemId) {
    const map = getMap();
    const node = map.get(itemId);
    node.scrollIntoView({
      behavior: 'smooth',
      block: 'nearest',
      inline: 'center',
    });
  }

  function getMap() {
    if (!itemsRef.current) {
      // ì²˜ìŒ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, Mapì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
      itemsRef.current = new Map();
    }
    return itemsRef.current;
  }

  return (
    <>
      <nav>
        <button onClick={() => scrollToId(0)}>Tom</button>
        <button onClick={() => scrollToId(5)}>Maru</button>
        <button onClick={() => scrollToId(9)}>Jellylorum</button>
      </nav>
      <div>
        <ul>
          {catList.map((cat) => (
            <li
              key={cat.id}
              ref={(node) => {
                const map = getMap();
                if (node) {
                  map.set(cat.id, node);
                } else {
                  map.delete(cat.id);
                }
              }}
            >
              <img src={cat.imageUrl} alt={'Cat #' + cat.id} />
            </li>
          ))}
        </ul>
      </div>
    </>
  );
}

const catList = [];
for (let i = 0; i < 10; i++) {
  catList.push({
    id: i,
    imageUrl: 'https://placekitten.com/250/200?image=' + i,
  });
}
```

í¬ì»¤ìŠ¤ ë° ìŠ¤í¬ë¡¤ ê´€ë¦¬ ê°™ì€ ë¹„ íŒŒê´´ì ì¸ í–‰ë™ì„ ê³ ìˆ˜í•œë‹¤ë©´ ì–´ë–¤ ë¬¸ì œë„ ë§ˆì£¼ì¹˜ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤. í•˜ì§€ë§Œ DOMì„ ì§ì ‘ ìˆ˜ì •í•˜ëŠ” ì‹œë„ë¥¼ í•œë‹¤ë©´ Reactê°€ ë§Œë“¤ì–´ ë‚´ëŠ” ë³€ê²½ ì‚¬í•­ê³¼ ì¶©ëŒì„ ë°œìƒì‹œí‚¬ ìœ„í—˜ì„ ê°ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤.

**Reactê°€ ê´€ë¦¬í•˜ëŠ” DOM ë…¸ë“œë¥¼ ì§ì ‘ ë°”ê¾¸ë ¤ í•˜ì§€ ë§ˆì„¸ìš”.** Reactê°€ ê´€ë¦¬í•˜ëŠ” DOM ìš”ì†Œì— ëŒ€í•œ ìˆ˜ì •, ìì‹ ì¶”ê°€ í˜¹ì€ ìì‹ ì‚­ì œëŠ” ë¹„ì¼ê´€ì ì¸ ì‹œê°ì  ê²°ê³¼ í˜¹ì€ ìœ„ ì˜ˆì‹œì²˜ëŸ¼ ì¶©ëŒë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.

í•˜ì§€ë§Œ í•­ìƒ ì´ê²ƒì„ í•  ìˆ˜ ì—†ë‹¤ëŠ” ì˜ë¯¸ëŠ” ì•„ë‹™ë‹ˆë‹¤. ì£¼ì˜ ê¹Šê²Œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ì•ˆì „í•˜ê²Œ Reactê°€ ì—…ë°ì´íŠ¸í•  ì´ìœ ê°€ ì—†ëŠ” DOM ë…¸ë“œ ì¼ë¶€ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ **ëª‡ëª‡ `<div>`ê°€ í•­ìƒ ë¹ˆ ì±„ë¡œ JSXì— ìˆë‹¤ë©´, ReactëŠ” í•´ë‹¹ ë…¸ë“œì˜ ìì‹ ìš”ì†Œë¥¼ ê±´ë“œë¦´ ì´ìœ ê°€ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë¹ˆ ë…¸ë“œì—ì„œ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ê²ƒì€ ì•ˆì „í•©ë‹ˆë‹¤.**

### `use~`ë¥¼ ì•ì— ë¶™ì´ëŠ” ê²ƒì˜ ì˜ë¯¸

ë§Œì•½ ì»´í¬ë„ŒíŠ¸ ì•ˆì— `getColor()`ë¼ëŠ” í•¨ìˆ˜ë¥¼ ë³´ì•˜ë‹¤ë©´, í•´ë‹¹ í•¨ìˆ˜ì˜ ì´ë¦„ì´ `use`ë¡œ ì‹œì‘í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í•¨ìˆ˜ ì•ˆì— React stateê°€ ìˆì„ ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„ í™•ì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°˜ëŒ€ë¡œ `useOnlineStatus()` í•¨ìˆ˜ì˜ ê²½ìš° ë†’ì€ í™•ë¥ ë¡œ ë‚´ë¶€ì— ë‹¤ë¥¸ Hookì„ ì‚¬ìš©í•˜ê³  ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!

**í•¨ìˆ˜ê°€ ì–´ë–¤ Hookë„ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, `use`ë¥¼ ì´ë¦„ ì•ì— ì‘ì„±í•˜ëŠ” ê²ƒì„ í”¼í•˜ì„¸ìš”.** ëŒ€ì‹ , `use` ì—†ì´ ì¼ë°˜ì ì¸ í•¨ìˆ˜ë¡œ ì‘ì„±í•˜ì„¸ìš”. ì˜ˆë¥¼ ë“¤ì–´ `useSorted`ê°€ Hookì„ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ `getSorted`ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
